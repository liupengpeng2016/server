{"version":3,"sources":["webpack:///src/components/access.vue","webpack:///./src/components/access.vue?c2a3","webpack:///./src/components/access.vue"],"names":["access","name","data","password","passwordAgain","errorInfo","props","methods","extends_default","Object","vuex_esm","submitHandler","_this","this","checkInput","action","login","resEnd","isok","$router","push","alert","register","isSuccess","msg","clearData","resetNotice","key","pass","test","watch","components_access","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","to","path","_v","directives","rawName","value","expression","domProps","on","focus","$event","input","target","composing","textContent","_s","type","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.3b3b632389f80cbe882f.js","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"login\">\r\n    <div class=\"login-tab\">\r\n      <router-link class='btn' :to=\"{path: '/access/login'}\">登录</router-link>\r\n      <router-link class='btn' :to=\"{path: '/access/register'}\">注册</router-link>\r\n    </div>\r\n    <div class=\"input\">\r\n      <p>\r\n        <label>name</label>\r\n        <input v-model='name' @focus='resetNotice(\"name\")'/>\r\n        <span v-text='errorInfo.name'></span>\r\n      </p>\r\n      <p>\r\n        <label>password</label>\r\n        <input type='password' v-model='password' @focus='resetNotice(\"password\")'/>\r\n        <span v-text='errorInfo.password'></span>\r\n      </p>\r\n      <p v-show='action === \"register\"'>\r\n        <label>password again</label>\r\n        <input type='password' v-model='passwordAgain' @focus='resetNotice(\"passwordAgain\")'/>\r\n        <span v-text='errorInfo.passwordAgain'></span></p>\r\n      <span class='submit btn' @click='submitHandler'>提交</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex'\r\nexport default {\r\n  name: 'access',\r\n  data: function () {\r\n    return {\r\n      name: '',\r\n      password: '',\r\n      passwordAgain: '',\r\n      errorInfo: {\r\n        name: '',\r\n        password: '',\r\n        passwordAgain: ''\r\n      }\r\n    }\r\n  },\r\n  props: ['action'],\r\n  methods: {\r\n    ...mapActions(['register', 'fetchUserInfo', 'login']),\r\n    submitHandler () {\r\n      if (!this.checkInput()) {\r\n        return\r\n      }\r\n      if (this.action === 'login') {\r\n        this.login({\r\n          name: this.name,\r\n          password: this.password,\r\n          resEnd: (isok, data) => {\r\n            if (isok) {\r\n              this.$router.push('/apilist')\r\n            } else {\r\n              alert(data)\r\n            }\r\n          }\r\n        })\r\n      } else if (this.action === 'register') {\r\n        this.register({\r\n          name: this.name,\r\n          password: this.password,\r\n          resEnd: (isSuccess, data) => {\r\n            if (isSuccess) {\r\n              this.$router.push('/apilist')\r\n            } else {\r\n              alert(data.msg)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    clearData () {\r\n      this.name = ''\r\n      this.password = ''\r\n      this.passwordAgain = ''\r\n      this.errorInfo = {\r\n        name: '',\r\n        password: '',\r\n        passwordAgain: ''\r\n      }\r\n    },\r\n    resetNotice (key) {\r\n      this.errorInfo[key] = ''\r\n    },\r\n    checkInput () {\r\n      let pass = true\r\n      if (!this.name) {\r\n        this.errorInfo.name = '用户名不能为空'\r\n        pass = false\r\n      } else if (!/^\\w+$/.test(this.name)) {\r\n        this.errorInfo.name = '只能数字字母下划线'\r\n        pass = false\r\n      }\r\n      if (!this.password) {\r\n        this.errorInfo.password = '密码不能为空'\r\n        pass = false\r\n      } else if (!/^\\w+$/.test(this.name)) {\r\n        this.errorInfo.password = '只能数字字母下划线'\r\n        pass = false\r\n      }\r\n      if (this.passwordAgain !== this.password) {\r\n        this.errorInfo.passwordAgain = '两次输入密码不一致'\r\n        if (this.action === 'register') {\r\n          pass = false\r\n        }\r\n      }\r\n      return pass\r\n    }\r\n  },\r\n  watch: {\r\n    action: function () {\r\n      this.clearData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.login{\r\n  width:500px;\r\n  height:300px;\r\n  position: fixed;\r\n  top:0;\r\n  bottom:0;\r\n  left:0;\r\n  right:0;\r\n  margin:auto;\r\n}\r\n.login .input p{\r\n  margin: 20px 0;\r\n}\r\n.login .input p span{\r\n  color:red;\r\n  font-size: 10px;\r\n}\r\n.login .input label{\r\n  width:150px;\r\n  display: inline-block;\r\n  vertical-align: baseline;\r\n}\r\n.login .input input{\r\n  width:200px;\r\n  height:30px;\r\n  border-radius:15px;\r\n  border:1px solid #ccc;\r\n  padding:0 15px;\r\n  display: inline-block;\r\n  vertical-align: baseline;\r\n}\r\n.login .input input:focus{\r\n  outline: none;\r\n}\r\n.login-tab{\r\n  display: flex;\r\n  width:100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  margin-bottom:60px;\r\n}\r\n.login-tab a{\r\n  text-decoration: none;\r\n  width:200px;\r\n}\r\n.router-link-active{\r\n  border-bottom:2px solid #5cc1df;\r\n  margin-bottom:-2px;\r\n}\r\n.submit{\r\n  text-align: center;\r\n  display: block;\r\n  width:200px;\r\n  background: #5cc1df;\r\n  color:white;\r\n  line-height: 40px;\r\n  margin: 10px auto 0px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/access.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-tab\"},[_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{path: '/access/login'}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{path: '/access/register'}}},[_vm._v(\"注册\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('p',[_c('label',[_vm._v(\"name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],domProps:{\"value\":(_vm.name)},on:{\"focus\":function($event){_vm.resetNotice(\"name\")},\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.errorInfo.name)}})]),_vm._v(\" \"),_c('p',[_c('label',[_vm._v(\"password\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"focus\":function($event){_vm.resetNotice(\"password\")},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.errorInfo.password)}})]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.action === \"register\"),expression:\"action === \\\"register\\\"\"}]},[_c('label',[_vm._v(\"password again\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordAgain),expression:\"passwordAgain\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.passwordAgain)},on:{\"focus\":function($event){_vm.resetNotice(\"passwordAgain\")},\"input\":function($event){if($event.target.composing){ return; }_vm.passwordAgain=$event.target.value}}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.errorInfo.passwordAgain)}})]),_vm._v(\" \"),_c('span',{staticClass:\"submit btn\",on:{\"click\":_vm.submitHandler}},[_vm._v(\"提交\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-fa4df84e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/access.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa4df84e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./access.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./access.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./access.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa4df84e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./access.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa4df84e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/access.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}