webpackJsonp([0],{CsE8:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=a("4YfN"),n=a.n(e),s=a("9rMa"),r={data:function(){return{path:"",json:""}},props:["isShowAdd"],methods:n()({},Object(s.b)(["saveApi","fetchApiList"]),{cancelHandler:function(){this.clearInput(),this.$emit("update:isShowAdd",!1)},clearInput:function(){this.path="",this.json=""},checkInput:function(){var t="";return/\/\w+/.test(this.path)||(t="路径格式不正确"),t},submitHandler:function(){var t=this,i=this.checkInput();if(i)return alert(i);this.saveApi({path:this.path,json:this.json,resEnd:function(i,a){t.cancelHandler(),i?(t.fetchApiList({}),alert("添加成功")):alert(a)}})}}),mounted:function(){}},o={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAdd,expression:"isShowAdd"}],staticClass:"bg"},[a("div",{staticClass:"container"},[a("h3",[t._v("添加api(若输入的是不规范json,则返回字符串)")]),t._v(" "),a("p",[a("label",[t._v("baseUrl://172.17.20.136")]),t._v(" "),a("br"),t._v(" "),a("label",[t._v("请输入路径(格式：/abc/def):")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],attrs:{type:"text",placeholder:"请在此处输入路径"},domProps:{value:t.path},on:{input:function(i){i.target.composing||(t.path=i.target.value)}}})]),t._v(" "),a("span",[t._v("请输入要返回的数据")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.json,expression:"json"}],domProps:{value:t.json},on:{input:function(i){i.target.composing||(t.json=i.target.value)}}}),t._v(" "),a("ul",[a("li",{staticClass:"btn",on:{click:t.cancelHandler}},[t._v("取消")]),t._v(" "),a("li",{staticClass:"btn",on:{click:t.submitHandler}},[t._v("确定")])])])])},staticRenderFns:[]};var c=a("C7Lr")(r,o,!1,function(t){a("az8i")},"data-v-fbf7dd84",null).exports,d={name:"apilist",data:function(){return{isShowAdd:!1}},props:["name"],computed:n()({},Object(s.c)(["apiList"])),components:{addApiLayer:c},watch:{apiList:function(t){this.$router.push({name:"apidetail",params:{path:(this.apiList[0]||[]).path,order:0}})}},methods:n()({},Object(s.b)(["fetchApiList","editorApi","delApi"]),{addApi:function(){this.isShowAdd=!0},delHandler:function(t){var i=this;this.delApi({path:this.apiList[t].path,resEnd:function(t,a){t&&(alert("操作成功"),i.fetchApiList({}))}})}}),mounted:function(){this.fetchApiList({name:this.name,resEnd:function(t,i){}})}},l={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"apilist"},[a("div",{staticClass:"list-container"},[a("p",{staticClass:"title"},[t._v("接口url列表(点击查看详情)")]),t._v(" "),a("ul",{staticClass:"list"},[t._l(t.apiList,function(i,e){return a("li",{key:e},[a("router-link",{attrs:{to:{name:"apidetail",params:{path:i.path,order:e}}}},[t._v("\n          "+t._s(i.path)+"\n        ")]),t._v(" "),a("span",{staticClass:"del btn",on:{click:function(i){i.stopPropagation(),t.delHandler(e)}}},[t._v("删除")])],1)}),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.apiList||!t.apiList.length,expression:"!apiList || !apiList.length"}]},[t._v("暂无数据")])],2),t._v(" "),a("p",{staticClass:"btn",on:{click:t.addApi}},[t._v("添加")])]),t._v(" "),a("router-view"),t._v(" "),a("add-api-layer",{attrs:{"is-show-add":t.isShowAdd,name:t.name},on:{"update:isShowAdd":function(i){t.isShowAdd=i}}})],1)},staticRenderFns:[]};var p=a("C7Lr")(d,l,!1,function(t){a("dMO6")},"data-v-4c20388c",null);i.default=p.exports},az8i:function(t,i){},dMO6:function(t,i){}});
//# sourceMappingURL=0.e88565119a96eef3a41e.js.map